# dbt profile – use env vars only (no secrets in file). Set DREMIO_* in .env or Airflow Variables.
# Lakehouse: MinIO + Apache Iceberg + Dremio
data_tools:
  target: "dremio_dev"
  outputs:
    dremio_dev:
      type: dremio
      software_host: "{{ env_var('DREMIO_HOST', 'localhost') }}"
      port: "{{ env_var('DREMIO_PORT', '9047') | as_number }}"
      user: "{{ env_var('DREMIO_USER', 'admin') }}"
      password: "{{ env_var('DREMIO_PASSWORD') }}"  # required – set in env or Airflow Variable dremio_password
      object_storage_source: "{{ env_var('DREMIO_OBJECT_STORAGE_SOURCE', 'minio') }}"
      object_storage_path: "{{ env_var('DREMIO_OBJECT_STORAGE_PATH', 'no_schema') }}"
      dremio_space: "{{ env_var('DREMIO_SPACE', 'dbt') }}"
      dremio_space_folder: "{{ env_var('DREMIO_SPACE_FOLDER', 'public') }}"
      use_ssl: false
      threads: 4
    dremio_prod:
      type: dremio
      software_host: "{{ env_var('DREMIO_HOST', 'localhost') }}"
      port: "{{ env_var('DREMIO_PORT', '9047') | as_number }}"
      user: "{{ env_var('DREMIO_USER', 'admin') }}"
      password: "{{ env_var('DREMIO_PASSWORD') }}"  # required – no default
      object_storage_source: "{{ env_var('DREMIO_OBJECT_STORAGE_SOURCE', 'minio') }}"
      object_storage_path: "{{ env_var('DREMIO_OBJECT_STORAGE_PATH', 'no_schema') }}"
      dremio_space: "{{ env_var('DREMIO_SPACE', 'dbt') }}"
      dremio_space_folder: "{{ env_var('DREMIO_SPACE_FOLDER', 'public') }}"
      use_ssl: "{{ env_var('DREMIO_USE_SSL', 'false') | as_bool }}"
      threads: 4
